{"version":3,"sources":["uni-app:///main.js","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/index.vue?c256","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/index.vue?2eb0","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/index.vue?633c","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/index.vue?d064","uni-app:///pages/order_pay_status/index.vue","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/payLottery.vue?c209","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/payLottery.vue?3a8a","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/payLottery.vue?8a87","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/payLottery.vue?82b2","uni-app:///pages/order_pay_status/payLottery.vue","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/payLottery.vue?5587","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/payLottery.vue?c42c","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/index.vue?10e5","webpack:///D:/zwq/company-project/2022-10 零食小程序/snack_wx_user/pages/order_pay_status/index.vue?45ea"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,wG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC8K;AAC9K,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAypB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8G7qB;;;AAGA;AACA;;;;AAIA;;;AAGA;;;AAGA;;;;;;AAMA,mF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+SACA,EACA,cACA,iCADA,EAGA,oBAHA,EADA,EAOA,wBAPA,EAQA,IARA,kBAQA,CACA,SACA,WADA,EAEA,cAFA,EAGA,qBAHA,EAIA,mBAJA,EAKA,WALA,EAMA,kBACA,OADA,EAEA,WAFA,EANA,EAUA,aAVA,EAUA;AACA,uBAXA,EAWA;AACA,eAZA,EAaA,OAbA,EAcA,mBAdA,EAeA,cAfA,EAgBA,WAhBA,GAkBA,CA3BA,EA4BA,4CA5BA,EA6BA,SACA,WACA,OADA,mBACA,IADA,EACA,IADA,EACA,CACA,WACA,uBACA,CACA,CALA,EAMA,UANA,EADA,EA7BA,EAuCA,MAvCA,kBAuCA,OAvCA,EAuCA,kBACA,6BACA,IADA,CACA,gBACA,iBACA,yBAFA,CAGA;AACA,KALA,EAMA,KANA,CAMA,uBACA;AACA,2BACA,UADA,GAFA,GANA,EAWA,uBACA,wBACA,yBACA,uBADA,IAEA,EACA,MADA,EAEA,MAFA,EAFA,EAMA,CACA,gCACA,kCACA,6BAvBA,CAyBA;AAWA,GA3EA,EA4EA,MA5EA,oBA4EA,CACA,mBACA,uBACA,CAFA,MAEA,CACA,sBACA,CACA,CAlFA,EAmFA,WACA,eADA,2BACA,MADA,EACA,CACA,2BACA,2BACA,CAJA,EAKA,OALA,qBAKA,CACA,sDACA,CAPA,EAQA,SARA,uBAQA,CACA,uBACA,CAVA,EAYA;;;;wXAMA,eAlBA,6BAkBA,mBACA,gBACA,kBACA,cADA,IAGA,8DACA,kBACA,4CACA,4BACA,qCADA,IAGA,sBACA,wBACA,CARA,EASA,KATA,CASA,gBACA,sBACA;AACA,OAZA;AAaA,KApCA;AAqCA,kBArCA,4BAqCA;AACA;AACA;AACA;AACA,OAFA;AAGA,KA1CA;;AA4CA;;;;AAIA,WAhDA,mBAgDA,CAhDA,EAgDA;AACA;AACA,iCADA;;AAGA,KApDA;AAqDA;AACA,UAtDA,kBAsDA,EAtDA,EAsDA;AACA;AACA,sEADA;;AAGA,KA1DA;;AA4DA;;;;;AAKA,kBAjEA,0BAiEA,CAjEA,EAiEA;AACA;;AAEA;AACA,qBADA;;AAGA;AACA;AACA;AACA,0EADA;;AAGA,OALA;AAMA,WANA,CAMA;AACA;AACA,OARA;;;;;;;AAeA,KAtFA,EAnFA,E;;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AAC8K;AAC9K,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA8pB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDlrB;;;AAGA;;;AAGA;;;AAGA;;;;;AAKA;;;;;;AAMA,mF;AACA;AACA;;AAEA,wBAFA;;AAIA,8BAJA;AAKA,gCALA;AAMA,4BANA,EADA;;AASA,0BATA;AAUA;AACA;AACA,kBADA,EADA,EAVA;;;AAeA,MAfA,kBAeA;AACA;AACA,wBADA;AAEA,yBAFA;AAGA,oBAHA;AAIA,mBAJA;AAKA,yBALA;AAMA;AACA,qBADA,EACA;AACA,qBAFA,EAEA;AACA,sBAHA,EAGA;AACA,kBAJA,CAIA;AAJA,OANA;AAYA,gBAZA;AAaA,cAbA;AAcA,eAdA;AAeA,iBAfA;AAgBA;AACA,eADA;AAEA,mBAFA,EAhBA;;AAoBA,mBApBA,EAoBA;AACA,uBArBA,EAqBA;AACA,yBAtBA;AAuBA,oBAvBA;AAwBA,mBAxBA;;AA0BA,GA1CA;AA2CA,8CA3CA;AA4CA;AACA;AACA;AACA;AACA,OAHA;AAIA,gBAJA,EADA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,gBATA,EAPA,EA5CA;;;AA+DA,SA/DA,mBA+DA,OA/DA,EA+DA;;;;;;AAMA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA,GA1EA;AA2EA;AACA,WADA,qBACA;AACA;AACA,KAHA;AAIA,gBAJA,0BAIA;AACA;AACA,KANA;AAOA,kBAPA,0BAOA,QAPA,EAOA;AACA;AACA;AACA,mBADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA,OAVA,EAUA,KAVA,CAUA;AACA;AACA,oBADA;;AAGA,OAdA;AAeA;AACA,KAzBA;AA0BA;;;AAGA;AACA;AACA,iCADA;;AAGA,KAjCA;AAkCA;;;;AAIA;;AAEA;AACA,qBADA;;AAGA;AACA;AACA;AACA,4EADA;;AAGA,OALA,EAKA,KALA,CAKA;AACA;AACA,OAPA;;AASA,KApDA;AAqDA,kBArDA,0BAqDA,IArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cADA;;AAGA;AACA;AACA,OAVA,EAUA,KAVA,CAUA;AACA;AACA;AACA,OAbA;AAcA,KApEA;AAqEA,gBArEA,wBAqEA,MArEA,EAqEA;AACA;AACA;AACA;AACA;AACA;AACA,KA3EA;AA4EA,cA5EA,sBA4EA,IA5EA,EA4EA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,OALA,EAKA,KALA,CAKA;AACA;AACA,oBADA;;AAGA,OATA;AAUA,KA1FA;AA2FA,UA3FA,EA2FA;AACA;AACA;AACA,iBADA;AAEA,QAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAVA,EAUA,KAVA,CAUA;AACA;AACA,kBADA;;AAGA,KAdA;AAeA;AACA,GA7GA;;AA+GA,OA/GA,EA+GA;AACA;AACA;AACA,GAlHA,YA3EA,E;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAA6wC,CAAgB,2nCAAG,EAAC,C;;;;;;;;;;;ACAjyC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAgvC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACApwC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order_pay_status/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order_pay_status/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=514574b6&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order_pay_status/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=514574b6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :style=\"colorStyle\">\r\n\t\t<view v-if=\"(!orderLottery || !order_pay_info.paid) && loading && lotteryLoading\" class=\"payment-status\">\r\n\t\t\t<!--失败时： 用icon-iconfontguanbi fail替换icon-duihao2 bg-color-->\r\n\t\t\t<view\r\n\t\t\t\tv-if=\"order_pay_info.paid || order_pay_info.pay_type == 'offline'\"\n\t\t\t\tclass=\"iconfont icons icon-duihao2 bg-color\"\n\t\t\t></view>\r\n\t\t\t<view v-else class=\"iconfont icons icon-iconfontguanbi\"></view>\r\n\t\t\t<!-- 失败时：订单支付失败 -->\r\n\t\t\t<view v-if=\"order_pay_info.pay_type != 'offline'\" class=\"status\">{{ order_pay_info.paid ? '订单支付成功':'订单支付失败' }}\r\n\t\t\t</view>\r\n\t\t\t<view v-else class=\"status\">订单创建成功</view>\r\n\t\t\t<view class=\"wrapper\">\r\n\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\r\n\t\t\t\t\t<view>订单编号</view>\r\n\t\t\t\t\t<view class=\"itemCom\">{{ orderId }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\r\n\t\t\t\t\t<view>下单时间</view>\r\n\t\t\t\t\t<view class=\"itemCom\">{{ order_pay_info._add_time }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\r\n\t\t\t\t\t<view>支付方式</view>\r\n\t\t\t\t\t<view class=\"itemCom\">{{ order_pay_info._status._payType || '暂未支付' }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\r\n\t\t\t\t\t<view>支付金额</view>\r\n\t\t\t\t\t<view class=\"itemCom\">{{ order_pay_info.pay_price }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!--失败时加上这个  -->\r\n\t\t\t\t<view\r\n\t\t\t\t\tv-if=\"order_pay_info.paid==0 && order_pay_info.pay_type != 'offline'\"\n\t\t\t\t\tclass=\"item acea-row row-between-wrapper\"\n\t\t\t\t>\r\n\t\t\t\t\t<view>失败原因</view>\r\n\t\t\t\t\t<view class=\"itemCom\">{{ status==2 ? '取消支付':msg }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\n\n\t\t\t<view class=\"\" style=\"margin: 20px auto;width: 300px;\">\n\t\t\t\t<image\n\t\t\t\t\tstyle=\"background-color: #eeeeee;width: 300px;\" :mode=\"'widthFix'\" :src=\"pay_img\"\n\t\t\t\t></image>\n\t\t\t</view>\n\r\n\t\t\t<!--失败时： 重新购买 -->\r\n\t\t\t<view v-if=\"status==0\" @tap=\"goOrderDetails\">\r\n\t\t\t\t<button formType=\"submit\" class=\"returnBnt bg-color\" hover-class=\"none\">查看订单</button>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"order_pay_info.paid==0 && status==1\" @tap=\"goOrderDetails\">\r\n\t\t\t\t<button class=\"returnBnt bg-color\" hover-class=\"none\">重新购买</button>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"order_pay_info.paid==0 && status==2\" @tap=\"goOrderDetails\">\r\n\t\t\t\t<button class=\"returnBnt bg-color\" hover-class=\"none\">重新支付</button>\r\n\t\t\t</view>\r\n\t\t\t<button\n\t\t\t\tv-if=\"order_pay_info.pink_id && order_pay_info.paid!=0 && status!=2 && status!=1\" class=\"returnBnt cart-color\" formType=\"submit\"\r\n\t\t\t\thover-class=\"none\"\r\n\t\t\t\t@click=\"goPink(order_pay_info.pink_id)\"\n\t\t\t>邀请好友参团</button>\r\n\t\t\t<button\n\t\t\t\tv-else class=\"returnBnt cart-color\" formType=\"submit\" hover-class=\"none\"\r\n\t\t\t\t@click=\"goIndex\"\n\t\t\t>返回首页</button>\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<button v-if=\"!$wechat.isWeixin() && !order_pay_info.paid\" class=\"returnBnt cart-color\" formType=\"submit\" hover-class=\"none\" @click.stop=\"getOrderPayInfo\">刷新支付状态</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view v-if=\"couponList.length\" class=\"coupons\">\r\n\t\t\t\t<view class=\"title acea-row row-center-wrapper\">\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t\t<view class=\"name\">赠送优惠券</view>\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view\n\t\t\t\t\t\tv-for=\"(item,index) in couponList\" v-if=\"index<2 || !couponsHidden\" :key=\"index\"\n\t\t\t\t\t\tclass=\"item acea-row row-between-wrapper\"\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"moneyCon acea-row row-between-wrapper\">\r\n\t\t\t\t\t\t\t<view class=\"price acea-row row-center-wrapper\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t￥<text>{{ item.coupon_price }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t<view class=\"name line1\">{{ item.coupon_title }}</view>\r\n\t\t\t\t\t\t\t<view class=\"priceMin\">满{{ item.use_min_price }}元可用</view>\r\n\t\t\t\t\t\t\t<view class=\"time\">有效期:{{ item.add_time ? item.add_time + \"-\" : \"\" }}{{ item.end_time }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"couponList.length>2\" class=\"open acea-row row-center-wrapper\" @click=\"openTap\">\r\n\t\t\t\t\t\t{{ couponsHidden?'展开更多':'关闭展开' }}<text\n\t\t\t\t\t\t\tclass=\"iconfont\"\r\n\t\t\t\t\t\t\t:class=\"couponsHidden==true?&quot;icon-xiangxia&quot;:&quot;icon-xiangshang&quot;\"\n\t\t\t\t\t\t></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<lotteryModel\n\t\t\tv-show=\"orderLottery && order_pay_info.paid && loading && lotteryLoading\" :options=\"options\"\r\n\t\t\t@orderDetails=\"goOrderDetails\" @lotteryShow=\"getOrderLottery\"\n\t\t></lotteryModel>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n\tGetPayImage\r\n} from '@/api/go_api.js'\r\nimport lotteryModel from './payLottery.vue'\r\nimport {\r\n\tgetOrderDetail,\r\n\torderCoupon\r\n} from '@/api/order.js'\r\nimport {\r\n\topenOrderSubscribe\r\n} from '@/utils/SubscribeMessage.js'\r\nimport {\r\n\ttoLogin\r\n} from '@/libs/login.js'\r\nimport {\r\n\tmapGetters\r\n} from 'vuex'\r\n// #ifdef MP\r\nimport authorize from '@/components/Authorize'\r\n// #endif\r\nimport colors from '@/mixins/color'\r\nexport default {\r\n\tcomponents: {\r\n\t\tlotteryModel,\r\n\t\t// #ifdef MP\r\n\t\tauthorize\r\n\t\t// #endif\r\n\t},\r\n\tmixins: [ colors ],\r\n\tdata() {\r\n\t\treturn {\n\t\t\tpay_img: '',\r\n\t\t\tloading: false,\r\n\t\t\tlotteryLoading: false,\r\n\t\t\torderLottery: false,\r\n\t\t\torderId: '',\r\n\t\t\torder_pay_info: {\r\n\t\t\t\tpaid: 1,\r\n\t\t\t\t_status: {}\r\n\t\t\t},\r\n\t\t\tisAuto: false, // 没有授权的不会自动授权\r\n\t\t\tisShowAuth: false, // 是否隐藏授权\r\n\t\t\tstatus: 0,\r\n\t\t\tmsg: '',\r\n\t\t\tcouponsHidden: true,\r\n\t\t\tcouponList: [],\r\n\t\t\toptions: {}\r\n\t\t}\r\n\t},\r\n\tcomputed: mapGetters([ 'isLogin' ]),\r\n\twatch: {\r\n\t\tisLogin: {\r\n\t\t\thandler(newV, oldV) {\r\n\t\t\t\tif (newV) {\r\n\t\t\t\t\tthis.getOrderPayInfo()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\n\t\tGetPayImage({})\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.pay_img = res.data\n\t\t\t\t// uni.hideLoading()\n\t\t\t})\n\t\t\t.catch((err) =>\n\t\t\t\t// uni.hideLoading()\n\t\t\t\t\t\t this.$util.Tips({\n\t\t\t\t\ttitle: err\n\t\t\t\t}))\r\n\t\tthis.options = options\r\n\t\tif (!options.order_id) {\n\t\t\treturn this.$util.Tips({\r\n\t\t\t\ttitle: '缺少参数无法查看订单支付状态'\r\n\t\t\t}, {\r\n\t\t\t\ttab: 3,\r\n\t\t\t\turl: 1\r\n\t\t\t})\r\n\t\t}\n\t\tthis.orderId = options.order_id\r\n\t\tthis.status = options.status || 0\r\n\t\tthis.msg = options.msg || ''\r\n\r\n\t\t// // #ifdef H5\r\n\t\t// document.addEventListener('visibilitychange', (e) => {\r\n\t\t// \tlet state = document.visibilityState\r\n\t\t// \tif (state == 'hidden') {\r\n\t\t// \t\tconsole.log('用户离开了');\r\n\t\t// \t}\r\n\t\t// \tif (state == 'visible') {\r\n\t\t// \t\tthis.getOrderPayInfo();\r\n\t\t// \t}\r\n\t\t// });\r\n\t\t// // #endif\r\n\t},\r\n\tonShow() {\r\n\t\tif (this.isLogin) {\r\n\t\t\tthis.getOrderPayInfo()\r\n\t\t} else {\r\n\t\t\ttoLogin()\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetOrderLottery(status) {\r\n\t\t\tthis.orderLottery = status\r\n\t\t\tthis.lotteryLoading = true\r\n\t\t},\r\n\t\topenTap() {\r\n\t\t\tthis.$set(this, 'couponsHidden', !this.couponsHidden)\r\n\t\t},\r\n\t\tonLoadFun() {\r\n\t\t\tthis.getOrderPayInfo()\r\n\t\t},\n\r\n\t\t/**\r\n\t\t\t *\r\n\t\t\t * 支付完成查询支付状态\r\n\t\t\t *\r\n\t\t\t */\n\r\n\t\tgetOrderPayInfo() {\r\n\t\t\tconst that = this\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '正在加载中'\r\n\t\t\t})\r\n\t\t\tgetOrderDetail(that.orderId).then((res) => {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tthat.$set(that, 'order_pay_info', res.data)\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\ttitle: res.data.paid ? '支付成功' : '未支付'\r\n\t\t\t\t})\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tthis.getOrderCoupon()\r\n\t\t\t})\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tthis.loading = true\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tgetOrderCoupon() {\r\n\t\t\tconst that = this\r\n\t\t\torderCoupon(that.orderId).then((res) => {\r\n\t\t\t\tthat.couponList = res.data\r\n\t\t\t})\r\n\t\t},\n\r\n\t\t/**\r\n\t\t\t * 去首页关闭当前所有页面\r\n\t\t\t */\n\r\n\t\tgoIndex(e) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/index/index'\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 去参团页面；\r\n\t\tgoPink(id) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/activity/goods_combination_status/index?id=' + id\r\n\t\t\t})\r\n\t\t},\n\r\n\t\t/**\r\n\t\t\t *\r\n\t\t\t * 去订单详情页面\r\n\t\t\t */\n\r\n\t\tgoOrderDetails(e) {\r\n\t\t\tconst that = this\r\n\t\t\t// #ifdef MP\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '正在加载'\r\n\t\t\t})\r\n\t\t\topenOrderSubscribe().then((res) => {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/users/order_details/index?order_id=' + that.orderId\r\n\t\t\t\t})\n\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tnui.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef MP\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/users/order_details/index?order_id=' + that.orderId\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t}\r\n\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.coupons {\r\n\t\t.title {\r\n\t\t\tmargin: 30rpx 0 25rpx 0;\r\n\r\n\t\t\t.line {\r\n\t\t\t\twidth: 70rpx;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tbackground: #DCDCDC;\r\n\t\t\t}\r\n\r\n\t\t\t.name {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tmargin: 0 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.list {\r\n\t\t\tpadding: 0 20rpx;\r\n\r\n\t\t\t.item {\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tbox-shadow: 0px 2px 10px 0px rgba(0, 0, 0, 0.06);\r\n\r\n\t\t\t\t.price {\r\n\t\t\t\t\twidth: 236rpx;\r\n\t\t\t\t\theight: 160rpx;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tfont-weight: 800;\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 54rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\twidth: 385rpx;\r\n\r\n\t\t\t\t\t.name {\r\n\t\t\t\t\t\tfont-size: #282828;\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.priceMin {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.time {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\tmargin-top: 15rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.open {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t\tmargin: 5rpx 0 0 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.payment-status {\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 195rpx 30rpx 0 30rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 1rpx 0 28rpx 0;\r\n\t}\r\n\r\n\t.payment-status .icons {\r\n\t\tfont-size: 70rpx;\r\n\t\twidth: 140rpx;\r\n\t\theight: 140rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tline-height: 140rpx;\r\n\t\ttext-shadow: 0px 4px 0px rgba(255,255,255,0.5);\r\n\t\tborder: 6rpx solid #f5f5f5;\r\n\t\tmargin: -76rpx auto 0 auto;\r\n\t\tbackground-color: #999;\r\n\t}\r\n\r\n\t.payment-status .icons.icon-iconfontguanbi {\r\n\t\ttext-shadow: 0px 4px 0px #6c6d6d;\r\n\t}\r\n\r\n\t.payment-status .iconfont.fail {\r\n\t\ttext-shadow: 0px 4px 0px #7a7a7a;\r\n\t}\r\n\r\n\t.payment-status .status {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\tmargin: 25rpx 0 37rpx 0;\r\n\t}\r\n\r\n\t.payment-status .wrapper {\r\n\t\tborder: 1rpx solid #eee;\r\n\t\tmargin: 0 30rpx 47rpx 30rpx;\r\n\t\tpadding: 35rpx 0;\r\n\t\tborder-left: 0;\r\n\t\tborder-right: 0;\r\n\t}\r\n\r\n\t.payment-status .wrapper .item {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #282828;\r\n\t}\r\n\r\n\t.payment-status .wrapper .item~.item {\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\r\n\t.payment-status .wrapper .item .itemCom {\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.payment-status .returnBnt {\r\n\t\twidth: 630rpx;\r\n\t\theight: 86rpx;\r\n\t\tborder-radius: 50rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 86rpx;\r\n\t\tmargin: 0 auto 20rpx auto;\r\n\t}\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./payLottery.vue?vue&type=template&id=15b50e66&scoped=true&\"\nvar renderjs\nimport script from \"./payLottery.vue?vue&type=script&lang=js&\"\nexport * from \"./payLottery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./payLottery.vue?vue&type=style&index=0&id=15b50e66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15b50e66\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order_pay_status/payLottery.vue\"\nexport default component.exports","export * from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payLottery.vue?vue&type=template&id=15b50e66&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function() {\n      _vm.addressModel = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payLottery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payLottery.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :style=\"colorStyle\">\r\n\t\t<view class=\"header\" v-show=\"lotteryShow\">\r\n\t\t\t<view class=\"pay-status\">\r\n\t\t\t\t<text class=\"iconfont icon-gou\"></text>\r\n\t\t\t\t<view class=\"pay-status-r\">\r\n\t\t\t\t\t<text class=\"pay-status-text\">\r\n\t\t\t\t\t\t支付成功\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text>\r\n\t\t\t\t\t\t支付金额：¥{{totalPrice}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"jump\">\r\n\t\t\t\t<view class=\"jump-det\" @click=\"orderDetails\">\r\n\t\t\t\t\t查看订单\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"jump-index\" @click=\"goIndex\">\r\n\t\t\t\t\t返回首页\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"grids-top\" v-show=\"lotteryShow\">\r\n\t\t\t<image src=\"../../static/images/pay-lottery-l.png\" mode=\"\"></image>\r\n\t\t\t<view class=\"grids-title\">\r\n\t\t\t\t<view>恭喜您，</view>\r\n\t\t\t\t<view class=\"grids-frequency\">获得{{lottery_num}}次</view>\r\n\t\t\t\t<view>抽奖机会</view>\r\n\t\t\t</view>\r\n\t\t\t<image src=\"../../static/images/pay-lottery-r.png\" mode=\"\"></image>\r\n\t\t</view>\r\n\t\t<view class=\"grids\" v-show=\"lotteryShow\">\r\n\t\t\t<image class=\"grids-bag\" src=\"../../static/images/pay-lottery-bag.png\" mode=\"\"></image>\r\n\t\t\t<view class=\"grids-box\">\r\n\t\t\t\t<gridsLottery class=\"\" :prizeData=\"prize\" @get_winingIndex='getWiningIndex'\r\n\t\t\t\t\t@luck_draw_finish='luck_draw_finish'>\r\n\t\t\t\t</gridsLottery>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<lotteryAleart :aleartStatus=\"aleartStatus\" @close=\"closeLottery\" :alData=\"alData\" :aleartType=\"aleartType\">\r\n\t\t</lotteryAleart>\r\n\t\t<view class=\"mask\" v-if=\"aleartStatus || addressModel\"></view>\r\n\t\t<userAddress :aleartStatus=\"addressModel\" @getAddress=\"getAddress\" @close=\"()=>{addressModel = false}\">\r\n\t\t</userAddress>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport gridsLottery from '@/components/lottery/index.vue'\r\n\timport lotteryAleart from './components/lotteryAleart.vue'\r\n\timport userAddress from './components/userAddress.vue'\r\n\timport {\r\n\t\tgetOrderDetail\r\n\t} from '@/api/order.js';\r\n\timport {\r\n\t\topenOrderSubscribe\r\n\t} from '@/utils/SubscribeMessage.js';\r\n\timport {\r\n\t\ttoLogin\r\n\t} from '@/libs/login.js';\r\n\timport {\r\n\t\tgetLotteryData,\r\n\t\tstartLottery,\r\n\t\treceiveLottery\r\n\t} from '@/api/lottery.js'\r\n\timport {\r\n\t\tmapGetters\r\n\t} from \"vuex\";\r\n\t// #ifdef MP\r\n\timport authorize from '@/components/Authorize';\r\n\t// #endif\r\n\timport colors from \"@/mixins/color\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\t// #ifdef MP\r\n\t\t\tauthorize,\r\n\t\t\t// #endif\r\n\t\t\tgridsLottery,\r\n\t\t\tlotteryAleart,\r\n\t\t\tuserAddress\r\n\t\t},\r\n\t\tmixins:[colors],\r\n\t\tprops: {\r\n\t\t\toptions: {\r\n\t\t\t\ttype: Object\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlotteryShow: false,\r\n\t\t\t\taddressModel: false,\r\n\t\t\t\tlottery_num: 0,\r\n\t\t\t\taleartType: 0,\r\n\t\t\t\taleartStatus: false,\r\n\t\t\t\tlottery_draw_param: {\r\n\t\t\t\t\tstartIndex: 3, //开始抽奖位置，从0开始\r\n\t\t\t\t\ttotalCount: 3, //一共要转的圈数\r\n\t\t\t\t\twiningIndex: 1, //中奖的位置，从0开始\r\n\t\t\t\t\tspeed: 100 //抽奖动画的速度 [数字越大越慢,默认100]\r\n\t\t\t\t},\r\n\t\t\t\talData: {},\r\n\t\t\t\ttype: '',\r\n\t\t\t\tprize: [],\r\n\t\t\t\torderId: '',\r\n\t\t\t\torder_pay_info: {\r\n\t\t\t\t\tpaid: 1,\r\n\t\t\t\t\t_status: {}\r\n\t\t\t\t},\r\n\t\t\t\tisAuto: false, //没有授权的不会自动授权\r\n\t\t\t\tisShowAuth: false, //是否隐藏授权\r\n\t\t\t\tcouponsHidden: true,\r\n\t\t\t\tcouponList: [],\r\n\t\t\t\ttotalPrice: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: mapGetters(['isLogin']),\r\n\t\twatch: {\r\n\t\t\tisLogin: {\r\n\t\t\t\thandler: function(newV, oldV) {\r\n\t\t\t\t\tif (newV) {}\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\thandler: function(newV, oldV) {\r\n\t\t\t\t\tif (newV) {\r\n\t\t\t\t\t\tthis.orderId = newV.order_id;\r\n\t\t\t\t\t\tthis.totalPrice = newV.totalPrice;\r\n\t\t\t\t\t\tthis.type = newV.type\r\n\t\t\t\t\t\tthis.getLotteryData(newV.type)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(options) {\r\n\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\tthis.orderId = this.options.order_id;\r\n\t\t\tthis.totalPrice = this.options.totalPrice;\r\n\t\t\tthis.type = this.options.type;\r\n\t\t\t// #endif\r\n\t\t\tif (this.isLogin) {\r\n\t\t\t\tthis.getLotteryData(this.type)\r\n\t\t\t} else {\r\n\t\t\t\ttoLogin();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenTap() {\r\n\t\t\t\tthis.$set(this, 'couponsHidden', !this.couponsHidden);\r\n\t\t\t},\r\n\t\t\torderDetails() {\r\n\t\t\t\tthis.$emit('orderDetails')\r\n\t\t\t},\r\n\t\t\tgetWiningIndex(callback) {\r\n\t\t\t\tthis.aleartType = 0\r\n\t\t\t\tstartLottery({\r\n\t\t\t\t\tid: this.id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.prize.forEach((item, index) => {\r\n\t\t\t\t\t\tif (res.data.id === item.id) {\r\n\t\t\t\t\t\t\tthis.alData = res.data\r\n\t\t\t\t\t\t\tthis.lottery_draw_param.winingIndex = index;\r\n\t\t\t\t\t\t\tcallback(this.lottery_draw_param);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t// //props修改在小程序和APP端不成功，所以在这里使用回调函数传参，\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 去首页关闭当前所有页面\r\n\t\t\t */\r\n\t\t\tgoIndex: function(e) {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * 去订单详情页面\r\n\t\t\t */\r\n\t\t\tgoOrderDetails: function(e) {\r\n\t\t\t\t// #ifdef MP\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在加载',\r\n\t\t\t\t})\r\n\t\t\t\topenOrderSubscribe().then(res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/users/order_details/index?order_id=' + this.orderId\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tnui.hideLoading();\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tgetLotteryData(type) {\r\n\t\t\t\tgetLotteryData(type).then(res => {\r\n\t\t\t\t\tthis.factor_num = res.data.lottery.factor_num\r\n\t\t\t\t\tthis.id = res.data.lottery.id\r\n\t\t\t\t\tthis.prize = res.data.lottery.prize\r\n\t\t\t\t\tthis.lottery_num = res.data.lottery_num\r\n\t\t\t\t\tthis.prize.push({\r\n\t\t\t\t\t\ta: 1\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$emit('lotteryShow', true)\r\n\t\t\t\t\tthis.lotteryShow = true\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$emit('lotteryShow', false)\r\n\t\t\t\t\tthis.lotteryShow = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseLottery(status) {\r\n\t\t\t\tthis.aleartStatus = false\r\n\t\t\t\tthis.getLotteryData(this.type)\r\n\t\t\t\tif (this.alData.type === 6) {\r\n\t\t\t\t\tthis.addressModel = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetAddress(data) {\r\n\t\t\t\tlet addData = data\r\n\t\t\t\taddData.id = this.alData.lottery_record_id\r\n\t\t\t\taddData.address = data.address.province + data.address.city + data.address.district + data.detail\r\n\t\t\t\treceiveLottery(addData).then(res => {\r\n\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\ttitle: '领取成功'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.addressModel = false\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetWiningIndex(callback) {\r\n\t\t\t\tthis.aleartType = 0\r\n\t\t\t\tstartLottery({\r\n\t\t\t\t\tid: this.id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.prize.forEach((item, index) => {\r\n\t\t\t\t\t\tif (res.data.id === item.id) {\r\n\t\t\t\t\t\t\tthis.alData = res.data\r\n\t\t\t\t\t\t\tthis.lottery_draw_param.winingIndex = index;\r\n\t\t\t\t\t\t\tcallback(this.lottery_draw_param);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t// //props修改在小程序和APP端不成功，所以在这里使用回调函数传参，\r\n\t\t\t},\r\n\t\t\t// 抽奖完成\r\n\t\t\tluck_draw_finish(param) {\r\n\t\t\t\tthis.aleartType = 2\r\n\t\t\t\tthis.aleartStatus = true\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.header {\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: var(--view-theme);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 80rpx 0;\r\n\r\n\t\t.pay-status {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 74rpx;\r\n\t\t\t\tbackground: rgba(#000, 0.08);\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\tpadding: 9rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.pay-status-r {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\r\n\t\t\t\t.pay-status-text {\r\n\t\t\t\t\tfont-size: 38rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tpadding-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.grids /deep/ .grid_wrap .lottery_wrap .lottery_grid li:nth-of-type(9) {\r\n\t\t\tbackground: rgba(#fff, 0.2) !important;\r\n\t\t}\r\n\r\n\t\t.jump {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding-top: 40rpx;\r\n\r\n\t\t\t.jump-det {\r\n\t\t\t\tbackground: #FFFFFF;\r\n\t\t\t\topacity: 1;\r\n\t\t\t\tborder-radius: 22px;\r\n\t\t\t\tcolor: #E93323;\r\n\t\t\t\tpadding: 10rpx 38rpx;\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.jump-index {\r\n\t\t\t\tborder: 1px solid #FEFFFF;\r\n\t\t\t\topacity: 1;\r\n\t\t\t\tpadding: 10rpx 38rpx;\r\n\t\t\t\tborder-radius: 22px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.grids-top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 30rpx 0 0 0;\r\n\r\n\t\timage {\r\n\t\t\twidth: 40rpx;\r\n\t\t\theight: 40rpx;\r\n\t\t}\r\n\r\n\t\t.grids-title {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 20px;\r\n\t\t\tcolor: #E93323;\r\n\t\t\tz-index: 999;\r\n\t\t\tpadding: 0 14rpx;\r\n\t\t\tfont-weight: bold;\r\n\r\n\t\t\t.grids-frequency {}\r\n\t\t}\r\n\t}\r\n\r\n\t/deep/ .lottery_grid {\r\n\t\tbackground-color: #E93323;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t.grids {\r\n\t\twidth: 100%;\r\n\t\t// height: 800rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 20rpx;\r\n\t\tposition: relative;\r\n\t\tpadding: 30rpx;\r\n\r\n\t\t.grids-bag {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\t// #ifdef MP\r\n\t\t\twidth: 95%;\r\n\t\t\theight: 95%;\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 750rpx;\r\n\t\t\t// #endif\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.grids-box {\r\n\t\t\twidth: 700rpx;\r\n\t\t\theight: 700rpx;\r\n\t\t\t// z-index: 10000;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tbackground-color: #E74435;\r\n\t\t}\r\n\r\n\t\t.winning-tips-list {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 50%;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tline-height: 40rpx;\r\n\t\t\theight: 40rpx;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #FFF8F8;\r\n\t\t\tmargin: 30rpx 0;\r\n\t\t\tz-index: 999;\r\n\t\t\tbackground: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.3) 51%, rgba(255, 255, 255, 0) 100%);\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tz-index: 9;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payLottery.vue?vue&type=style&index=0&id=15b50e66&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payLottery.vue?vue&type=style&index=0&id=15b50e66&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668059868245\n      var cssReload = require(\"D:/工具软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../工具软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668059868239\n      var cssReload = require(\"D:/工具软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}